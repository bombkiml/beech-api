process.env.NODE_ENV = 'test'
process.setMaxListeners(0)

const axios = require('axios')
path = require('path')
basePath = path.resolve()
config = require(path.join(basePath, 'app.config')).main_config
baseUrl = config.local_nodejs
endpoint = baseUrl.concat('{{endpoint}}')

describe('Test endpoint : '+ endpoint, () => { 
  it('Truthy!', () => { 
    expect('{{endpoint}}').toBeTruthy()
  });

  it('Say hello!', () => {
    expect('Hello {{endpointName}}').toEqual('Hello {{endpointName}}')
  });

  /** 
  * An asynchronous test will fail after 5000 ms if done() is not called.
  * This timeout can be changed by setting TIMEOUT_INTERVAL or by passing 
  * a timeout interval in the specification.
  * 
  */
  it("Respond with basic GET status 200", (done) => {
    axios.get(endpoint)
      .then((res) => {
        expect(200).toEqual(res.data.status)
        done()
      })
  });

  /**
   * other
   *
   */
});